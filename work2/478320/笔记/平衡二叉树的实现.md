# 平衡二叉树的旋转机制

规则：左旋和右旋，添加节点后如果这个树不是平衡二叉树了，那就会发出旋转

## 左旋

旋转过程要先确定支点，从添加的节点开始，一个一个不断往父节点找不平衡的点，找到第一个不平衡的点作为支点

![](C:\Users\余思衡\Desktop\Markdown学习\图片保存处\Screenshot_2023-10-10-14-57-26-23_149003a2d400f6a.jpg)

以上图为例，把12作为起点，往会找到11，发现11是平衡的，然后继续往上找10，10节点不满足要求，所以现在10是支点，这个时候才断定进行左旋操作，变成下图这样

![](C:\Users\余思衡\Desktop\Markdown学习\图片保存处\Screenshot_2023-10-10-15-00-12-85_149003a2d400f6a.jpg)

步骤，1以不平衡的点作为支点，2把支点左旋降级，变成左子节点，3晋升原来的右子节点

左旋只旋一格

![](C:\Users\余思衡\Desktop\Markdown学习\图片保存处\Screenshot_2023-10-10-15-04-05-18_149003a2d400f6a.jpg)

现在看复杂一点的情况

我们现在找到7是支点，但是旋转之后10上右三个数，可是根节点只有两个数，该怎么办呢

步骤，1以不平衡的点作为支点，2将根节点的右侧晚左拉，3原先的右子节点变成新的父节点，并把多余的左子节点出让，给已经降级的根节点当右子节点

![](C:\Users\余思衡\Desktop\Markdown学习\图片保存处\Screenshot_2023-10-10-15-09-45-34_149003a2d400f6a.jpg)

变成这样

## 右旋

右旋和左旋差不多，只不过在遇到复杂例子时和左旋完全相反一下而已

## 右旋和左旋的使用时机

首先要满足条件平衡被破坏

破坏情况

1.左左破坏，在被破坏点的左子树，的左子树上添加破坏节点

只需要一次右旋就可以解决

2.左右破坏，在破坏点的左子树，的右子树上添加节点

我们发现，一次右旋后，平衡树还是不平衡，但我们可以通过局部左旋的方式把左右破坏变成左左破坏的形式，这个时候再使用右旋就可以了

***局部左旋：把支点的左子树作为新的支点进行左旋***

3.右右破坏，在破坏点的右子树，的右子树上添加节点

只要一次左旋就可以了

4.右左破坏，在破坏点的右子树，的左子树上添加节点

需要进行局部右旋，然后再左旋

***局部右旋：在破坏点的右子树作为新的支点，进行右旋操作***



